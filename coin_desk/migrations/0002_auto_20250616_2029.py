# Generated by Django 5.2.3 on 2025-06-16 17:29

from django.db import migrations

def load_initial_data(apps, schema_editor):
    PLEntry = apps.get_model('coin_desk', 'PLEntry')
    ExpenseCategory = apps.get_model('coin_desk', 'ExpenseCategory')

    # Создаём группы PL
    pl_entries = [
        "Выручка",
        "Себестоимость услуг",
        "Коммерческие расходы",
        "Управленческие расходы",
        "Дивиденды",
        "Расчёты с бюджетом",
        "Другое",
    ]
    pl_objects = [PLEntry(name=name) for name in pl_entries]
    PLEntry.objects.bulk_create(pl_objects)

    # Создаём статьи расходов
    expense_categories = [
        ("Перевод между своими счетами", "Другое"),
        ("Выручка от ремонта кулеров", "Выручка"),
        ("Возврат покупателю", "Выручка"),
        ("Выручка", "Выручка"),
        ("Расходы на доставку", "Себестоимость услуг"),
        ("Расходы на покупку кулеров и комплектующих", "Себестоимость услуг"),
        ("Расходы на чистящие средства и инвентарь", "Себестоимость услуг"),
        ("Топливо для водителей", "Себестоимость услуг"),
        ("Расходы на ККТ", "Управленческие расходы"),
        ("Агентские партнеру", "Коммерческие расходы"),
        ("Оплата парковок", "Себестоимость услуг"),
        ("Расходы на хостинг", "Управленческие расходы"),
        ("Расходы на работу сайта", "Коммерческие расходы"),
        ("Расходы на рекламу", "Коммерческие расходы"),
        ("Аренда офиса", "Управленческие расходы"),
        ("Комиссии банков и банковское обслуживание", "Управленческие расходы"),
        ("Поиск персонала", "Управленческие расходы"),
        ("Расходы на корпоративную связь", "Управленческие расходы"),
        ("Вода для офиса", "Управленческие расходы"),
        ("Расходы на канцтовары", "Управленческие расходы"),
        ("Расходы на битрикс", "Управленческие расходы"),
        ("Расходы на ЭДО", "Управленческие расходы"),
        ("Расходы на почту, и другие расходы на документооборот", "Управленческие расходы"),
        ("Выплата заработной платы", "Управленческие расходы"),
        ("Расходы на коммунальные услуги для офиса", "Управленческие расходы"),
        ("Расходы на электроэнергию для офиса", "Управленческие расходы"),
        ("Компенсация проезда на общественном транспорте", "Управленческие расходы"),
        ("Интернет для офиса", "Управленческие расходы"),
        ("Дивиденды", "Дивиденды"),
        ("Налоги", "Расчёты с бюджетом"),
        ("Штрафы и пени", "Расчёты с бюджетом"),
        ("Другое", "Другое"),
    ]
    for name, pl_name in expense_categories:
        pl_entry = PLEntry.objects.get(name=pl_name)
        ExpenseCategory.objects.create(name=name, pl_entry=pl_entry)

class Migration(migrations.Migration):
    dependencies = [
        ('coin_desk', '0001_initial'),
    ]

    operations = [
        migrations.RunPython(load_initial_data),
    ]
